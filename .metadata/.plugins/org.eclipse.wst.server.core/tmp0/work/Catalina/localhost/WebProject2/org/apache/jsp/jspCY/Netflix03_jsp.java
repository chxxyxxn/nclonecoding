/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.5.60
 * Generated at: 2022-07-26 03:28:27 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.jspCY;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.cy.dao.*;
import com.cy.dto.*;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.PreparedStatement;

public final class Netflix03_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("com.cy.dto");
    _jspx_imports_packages.add("com.cy.dao");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("java.sql.Connection");
    _jspx_imports_classes.add("java.sql.ResultSet");
    _jspx_imports_classes.add("java.sql.PreparedStatement");
    _jspx_imports_classes.add("java.sql.DriverManager");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSP들은 오직 GET, POST 또는 HEAD 메소드만을 허용합니다. Jasper는 OPTIONS 메소드 또한 허용합니다.");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("    \r\n");
      out.write("    \r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");

	String driver = "oracle.jdbc.driver.OracleDriver";
	String url = "jdbc:oracle:thin:@192.168.1.12:1521:xe";
	String dbId = "oraclePort";
	String dbPw = "1234";
	
	String email_address = request.getParameter("email");
	
	Class.forName(driver);
	Connection conn = DriverManager.getConnection(url,dbId,dbPw);
	
	String sql = "insert into member(member_id,email_address) values(seq_member.nextval,?)";
	
	PreparedStatement pstmt = conn.prepareStatement(sql);
	pstmt.setString(1,email_address);
	pstmt.executeUpdate();
	
	pstmt.close();
	
	sql = "select member_id from member where email_address = ?";
	
	pstmt = conn.prepareStatement(sql);
	pstmt.setString(1,email_address);
	ResultSet rs = pstmt.executeQuery();
	int member_id = 0;
	if(rs.next()){
		member_id = rs.getInt("member_id");
	}	
	conn.close();

      out.write('\r');
      out.write('\n');

	session.setAttribute("email", email_address); //request.getParameter("email"));
	session.setAttribute("member_id", member_id);

      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("\t<meta charset=\"UTF-8\">\r\n");
      out.write("\t<script src=\"../js/jquery-3.6.0.min.js\"></script>\r\n");
      out.write("\t<link rel=\"stylesheet\" href=\"css/Netflix03.css\"/>\r\n");
      out.write("</head>\r\n");
      out.write("\t<body>\r\n");
      out.write("\t\t<div class=\"basicLayout\">\r\n");
      out.write("\t\t\t<div class=\"basicHeader\">\r\n");
      out.write("\t\t\t<!-- 넷플릭스 로고 -->\r\n");
      out.write("\t\t\t\t<a href=\"/\" class=\"svg-nfLogo-signupBasicHeader\" data-uia=\"\">\r\n");
      out.write("\t\t\t\t\t<svg viewBox=\"0 0 111 30\" class=\"svg-icon-netflix-logo\" aria-hidden=\"true\" focusable=\"false\">\r\n");
      out.write("\t\t\t\t\t\t<g id=\"procedure-netflix-logo\">\r\n");
      out.write("\t\t\t\t\t\t\t<path d=\"M105.06233,14.2806261 L110.999156,30 C109.249227,29.7497422 107.500234,29.4366857 105.718437,29.1554972 L102.374168,20.4686475 L98.9371075,28.4375293 C97.2499766,28.1563408 95.5928391,28.061674 93.9057081,27.8432843 L99.9372012,14.0931671 L94.4680851,-5.68434189e-14 L99.5313525,-5.68434189e-14 L102.593495,7.87421502 L105.874965,-5.68434189e-14 L110.999156,-5.68434189e-14 L105.06233,14.2806261 Z M90.4686475,-5.68434189e-14 L85.8749649,-5.68434189e-14 L85.8749649,27.2499766 C87.3746368,27.3437061 88.9371075,27.4055675 90.4686475,27.5930265 L90.4686475,-5.68434189e-14 Z M81.9055207,26.93692 C77.7186241,26.6557316 73.5307901,26.4064111 69.250164,26.3117443 L69.250164,-5.68434189e-14 L73.9366389,-5.68434189e-14 L73.9366389,21.8745899 C76.6248008,21.9373887 79.3120255,22.1557784 81.9055207,22.2804387 L81.9055207,26.93692 Z M64.2496954,10.6561065 L64.2496954,15.3435186 L57.8442216,15.3435186 L57.8442216,25.9996251 L53.2186709,25.9996251 L53.2186709,-5.68434189e-14 L66.3436123,-5.68434189e-14 L66.3436123,4.68741213 L57.8442216,4.68741213 L57.8442216,10.6561065 L64.2496954,10.6561065 Z M45.3435186,4.68741213 L45.3435186,26.2498828 C43.7810479,26.2498828 42.1876465,26.2498828 40.6561065,26.3117443 L40.6561065,4.68741213 L35.8121661,4.68741213 L35.8121661,-5.68434189e-14 L50.2183897,-5.68434189e-14 L50.2183897,4.68741213 L45.3435186,4.68741213 Z M30.749836,15.5928391 C28.687787,15.5928391 26.2498828,15.5928391 24.4999531,15.6875059 L24.4999531,22.6562939 C27.2499766,22.4678976 30,22.2495079 32.7809542,22.1557784 L32.7809542,26.6557316 L19.812541,27.6876933 L19.812541,-5.68434189e-14 L32.7809542,-5.68434189e-14 L32.7809542,4.68741213 L24.4999531,4.68741213 L24.4999531,10.9991564 C26.3126816,10.9991564 29.0936358,10.9054269 30.749836,10.9054269 L30.749836,15.5928391 Z M4.78114163,12.9684132 L4.78114163,29.3429562 C3.09401069,29.5313525 1.59340144,29.7497422 0,30 L0,-5.68434189e-14 L4.4690224,-5.68434189e-14 L10.562377,17.0315868 L10.562377,-5.68434189e-14 L15.2497891,-5.68434189e-14 L15.2497891,28.061674 C13.5935889,28.3437998 11.906458,28.4375293 10.1246602,28.6868498 L4.78114163,12.9684132 Z\" id=\"Fill-14\">\r\n");
      out.write("\t\t\t\t\t\t\t</path>\r\n");
      out.write("\t\t\t\t\t\t</g>\r\n");
      out.write("\t\t\t\t\t</svg>\r\n");
      out.write("\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t<!-- 로그인 버튼 -->\r\n");
      out.write("\t\t\t\t<a href=\"/login\" class=\"signupBasic-onboarding-header\" data-uia=\"header-login-link\">로그인</a>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"procedure-simpleContainer\">\r\n");
      out.write("\t\t\t\t<div class=\"procedure-centerContainer\">\r\n");
      out.write("\t\t\t\t\t<div class=\"procedure-regContainer\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"procedure-imagestepLogo\">\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"procedure-regSteplogo\"></span>\r\n");
      out.write("\t\t\t\t\t    </div>\r\n");
      out.write("\t\t\t\t\t    <div class=\"procedure-stepHeaderBox\">\r\n");
      out.write("\t\t\t\t\t    \t<span class=\"stepIndicator\"><b>1</b>/<b>3단계</b></span>\r\n");
      out.write("\t\t\t\t\t    \t<h1 class=\"stepTitle\">계정 설정 마무리하기</h1>\r\n");
      out.write("\t\t\t\t\t    </div>\r\n");
      out.write("\t\t\t\t\t    <div class=\"contextBody\">맞춤형 콘텐츠 서비스, 넷플릭스! 비밀번호를 설정해 다양한 디바이스에서 아무 때나 시청하세요.\r\n");
      out.write("\t\t\t\t\t    </div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<form action=\"Netflix04.jsp\" method=\"post\">\r\n");
      out.write("\t\t\t\t\t<div class=\"submitBtnContainer\">\r\n");
      out.write("\t\t\t\t\t<button class=\"submit-button1\">다음</button>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</form>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"site1-footer-center\">\r\n");
      out.write("\t\t\t\t<div class=\"footer-divider-greyline\"></div>\r\n");
      out.write("\t\t\t\t<div class=\"footer-site-center-section\">\r\n");
      out.write("\t\t\t\t\t<p class=\"footer-top-1\"> \r\n");
      out.write("\t\t\t\t\t\t질문이 있으신가요? 문의 전화: &nbsp;\r\n");
      out.write("\t\t\t\t\t\t<a class=\"footer-top-1-a\" href=\"tel:080-001-9587\">080-001-9587</a>\r\n");
      out.write("\t\t\t\t\t</p>\r\n");
      out.write("\t\t\t\t\t<ul class=\"footer-link-top-2\">\r\n");
      out.write("\t\t\t\t\t\t<li class=\"footer-link-top-2-item\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<a class=\"footer-link-top-2-font\" href=\"\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<span>자주 묻는 질문</span>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t<li class=\"footer-link-top-2-item\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<a class=\"footer-link-top-2-font\" href=\"\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<span>고객 센터</span>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t<li class=\"footer-link-top-2-item\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<a class=\"footer-link-top-2-font\" href=\"\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<span>이용 약관</span>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t<li class=\"footer-link-top-2-item\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<a class=\"footer-link-top-2-font\" href=\"\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<span>개인 정보</span>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t<li class=\"footer-link-top-2-item\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<a class=\"footer-link-top-2-font\" href=\"\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<span>쿠키 설정</span>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t<li class=\"footer-link-top-2-item\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<a class=\"footer-link-top-2-font\" href=\"\" placeholder=\"\">\r\n");
      out.write("\t\t\t\t\t\t<span>회사 정보</span>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
